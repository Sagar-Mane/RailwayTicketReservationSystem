<br>
<br>
<div class="container">
    <h2>Train Search</h2>
    <form class="form-horizontal">

        <div class="form-group">
            <label class="control-label col-sm-2" for="email">No of passengers:</label>
            <div class="col-sm-10">
                <input type=number min="1" max="10" ng-model="passengers">
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-sm-2" for="pwd">Departure Time:</label>
            <div class="col-sm-10">
                <input type="datetime-local" ng-model="departure_time">
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-sm-2" for="pwd">From Station:</label>
            <div class="col-sm-10">
                <select ng-model="from_station">
                    <option>A</option>
                    <option>B</option>
                    <option>C</option>
                    <option>D</option>
                    <option>E</option>
                    <option>F</option>
                    <option>G</option>
                    <option>H</option>
                    <option>I</option>
                    <option>J</option>
                    <option>K</option>
                    <option>L</option>
                    <option>M</option>
                    <option>N</option>
                    <option>O</option>
                    <option>P</option>
                    <option>Q</option>
                    <option>R</option>
                    <option>S</option>
                    <option>T</option>
                    <option>U</option>
                    <option>V</option>
                    <option>W</option>
                    <option>X</option>
                    <option>Y</option>
                    <option>Z</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-sm-2" for="pwd">To Station:</label>
            <div class="col-sm-10">
                <select ng-model=to_station>
                    <option>A</option>
                    <option>B</option>
                    <option>C</option>
                    <option>D</option>
                    <option>E</option>
                    <option>F</option>
                    <option>G</option>
                    <option>H</option>
                    <option>I</option>
                    <option>J</option>
                    <option>K</option>
                    <option>L</option>
                    <option>M</option>
                    <option>N</option>
                    <option>O</option>
                    <option>P</option>
                    <option>Q</option>
                    <option>R</option>
                    <option>S</option>
                    <option>T</option>
                    <option>U</option>
                    <option>V</option>
                    <option>W</option>
                    <option>X</option>
                    <option>Y</option>
                    <option>Z</option>
                </select>
            </div>
        </div>


        <div class="form-group">
            <label class="control-label col-sm-2" for="pwd">Ticket Type:</label>
            <div class="col-sm-10">
                <select ng-model="ticket_type">
                    <option>Regular</option>
                    <option>Express</option>
                    <option>Any</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-sm-2" for="email">No of connections:</label>
            <div class="col-sm-10">
                <select ng-model=connections>
                    <option>None</option>
                    <option>One</option>
                    <option>Any</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" ng-model="roundtrip"> Round Trip</label>
                </div>
            </div>
        </div>
        <br>
        <div class="form-group" ng-show="roundtrip">
            <label class="control-label col-sm-2" for="pwd">Return Time:</label>
            <div class="col-sm-10">
                <input type="datetime-local" ng-model="return_time">
            </div>
        </div>


        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-default" ng-click="search()">Submit</button>
            </div>
        </div>
    </form>
</div>
<h4 class="card-title">Search Results</h4>
<div class="row">
    <div class="col-md-10">
        <div class="card" ng-repeat="x in result">
            <br>
            <div class="card-block">

                <ul class="list-group list-group-flush">
                    <!--<li class="list-group-item">Repeating tickets</li>-->
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">Train</th>
                                <th scope="col">From Station</th>
                                <th scope="col">To Station</th>
                                <th scope="col">Departure Time</th>
                                <th scope="col">Arrival Time</th>
                                <th scope="col">Duration</th>
                                <th scope="col">Price</th>
                                <th scope="col">Total Duration</th>
                                <th scope="col">Total Price</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="y in x.tickets">
                                <td>{{y.train.train.name}}</td>
                                <td>{{y.train.fromStation.name}}</td>
                                <td>{{y.train.toStation.name}}</td>
                                <td>{{y.train.departureTime}}</td>
                                <td>{{y.train.arrivalTime}}</td>
                                <td>{{y.train.duration}}</td>
                                <td>{{y.price}}</td>
                                <td>{{x.duration}}</td>
                                <td>{{x.price}}</td>
                            </tr>
                        </tbody>
                    </table>
                </ul>
                <button type="button" class="btn btn-primary pull-right" data-toggle="modal" data-target="#myModal">Book</button>
            </div>
        </div>

    </div>
</div>

<!-- Modal for booking ticket -->
<div class="modal" id="myModal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Confirm Booking</h4>
            </div>
            <div class="modal-body">

                <div class="form-group" ng-repeat="x in numberOfPassengers">
                    <label class="control-label col-md-12" for="pwd">Name of passenger {{x+1}}</label>
                    <div class="col-sm-10">
                        <input type=text>
                    </div>
                </div>
                <br><br>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Confirm booking</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>